<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen" />
        <script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>
        <script type="text/javascript" src="curdsoap.js"></script>
        <script>
        $(document).ready(function(){
            test("clean text", function() {
                equal(curdsoap.clean(''), '', 'clean empty string');
                equal(curdsoap.clean('hello'), 'hello', 'single word');
            });

            test("tags", function() {
                equal(curdsoap.clean('<strong>hello</strong>'),
                    '<strong>hello</strong>',
                    'allowed tag containing text'
                );
                equal(curdsoap.clean('<muha>hallo</muha>'),
                    'hallo ',
                    'disallowed tag containing text'
                );
                equal(curdsoap.clean('<strong><u>hello</u>muha</strong>'),
                    '<strong><u>hello</u>muha</strong>',
                    'multiple allowed tags containing text'
                );
                equal(curdsoap.clean('<strong2><u2>hello</u2>muha</strong2>'),
                    'hello muha ',
                    'multiple disallowed tags containing text'
                );
                equal(curdsoap.clean('<strong><u2>hello</u2>muha</strong>test'),
                    '<strong>hello muha</strong>test',
                    'multiple disallowed tags containing text'
                );
            });
        });
        </script>
    </head>
    <body>
        <h1 id="qunit-header">curdsoap.js tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
    </body>
</html>
